<div class="container-fluid">
    <h1>Listado de documentos</h1>
    <div class="col-md-9">      
        <table class="table table-stripped table-condensed">
            <thead>
                <tr>
                    <th style="min-width:140px">Detalles</th>
                    <th style="min-width:100px">Estado</th>
                    <th style="width:20px"></th>
                    <th style="width:20px"></th>
                    <th style="width:20px"></th>
                </tr>
            </thead>
            <tbody>
              <tr ng-repeat="doc in docs | filter:query">
                  <td>	<div class="doc-label">
							<span class="label label-default cursor-pointer" ng-click="filterState(doc.titulacion)">{{doc.titulacion}}</span>
							<span class="label label-default cursor-pointer" ng-click="filterState(doc.asignatura)">{{doc.asignatura}}</span>
							<span class="label label-default cursor-pointer" ng-click="filterState(doc.convocatoria)">{{doc.convocatoria}}</span>
							<span class="label label-default ">{{doc.fecha}}</span>
						</div>
						<span ng-really-message="<strong>¿Está seguro de que quiere cambiar el documento al estado 'abierto'?</strong><br><br><small>Esta operación solo debería realizarse en el caso de haber cerrado el documento por error.</small>" ng-really-click="changeStatus(doc, 'abierto')">
							<a  popover="Pasar al estado abierto" popover-trigger="mouseenter" class="btn btn-default" ng-class="{disabled: doc.estado!='cerrado'}"><i class="fa fa-unlock"></i> Abrir</a>
						</span>
						<span ng-really-message="<strong>¿Está seguro de que quiere cambiar el documento al estado 'cerrado'?</strong>" ng-really-click="changeStatus(doc, 'cerrado')">
							<a popover="Pasar al estado cerrado" popover-trigger="mouseenter" class="btn btn-default" ng-class="{disabled: doc.estado!='abierto'}"><i class="fa fa-lock"></i> Cerrar</a>
						</span>
						<span ng-really-message="<strong>¿Está seguro de que quiere cambiar el documento al estado 'publicado'?</strong><br><br><small>Una vez realizada esta acción no se podrá volver a cambiar el estado de este documento.</small>" ng-really-click="changeStatus(doc, 'publicado')">
							<a popover="Pasar al estado publicado" popover-trigger="mouseenter" class="btn btn-default" ng-class="{disabled: doc.estado!='cerrado'}"><i class="fa fa-globe"></i> Publicar</a>
						</div>
				  </td>
                  <td><ul class="list-inline"><li class="estado {{doc.estado}} cursor-pointer" ng-click="filterState(doc.estado)">{{doc.estado}}</li></ul></td>
                  <td><a ng-click="viewDoc(doc.id_doc)" class="btn btn-small btn-info" ><i class="fa fa-eye"></i> Ver</a></td>
                  <td><a ng-click="editDoc(doc.id_doc, doc.estado)" class="btn btn-small btn-primary" ng-class="{disabled : doc.estado != 'abierto'}"><i class="fa fa-edit"></i> Editar</a></td>
                  <td><a ng-really-message="<strong>¿Está seguro de que quiere eliminar este documento?</strong><br>Una vez eliminado no podrá volver a recuperarlo." ng-really-click="deleteDoc(doc.id_doc, doc.estado)" 
						 class="btn btn-small btn-danger" ng-class="{disabled : doc.estado != 'abierto'}"><i class="fa fa-trash-o"></i> Borrar</a></td>
              </tr>
          </tbody>
      </table>
    </div>
    <div class="row">
        <div class="col-md-3">
        <!--Sidebar content-->
        <i class="fa fa-search"></i> Filtro: <input size="10" ng-model="query"><span class="btn tag" ng-click="clearQuery()">&times;</span>
    </div>
</div>
<a ng-click="createNewDoc()" class="btn btn-success"><i class="fa fa-file-text-o"></i> Documento Nuevo</a>

