<div class="container-fluid">
    <h1>Listado de documentos</h1>
    <div class="col-md-9">      
        <table class="table table-stripped table-condensed">
            <thead>
                <tr>
                    <th style="min-width:140px">Detalles</th>
                    <th style="min-width:100px">Estado</th>
                    <th style="width:20px"></th>
                    <th style="width:20px"></th>
                    <th style="width:20px"></th>
                </tr>
            </thead>
            <tbody>
              <tr ng-repeat="doc in docs | filter:query">
                  <td>
						<a class="doc-label" ng-click="filterState(doc.titulacion)">{{doc.titulacion}}</a>
						<a class="doc-label" ng-click="filterState(doc.asignatura)">{{doc.asignatura}}</a>
						<a class="doc-label" ng-click="filterState(doc.convocatoria)">{{doc.convocatoria}}</a>
						<span class="doc-label">{{doc.fecha}}</span>
					<br><br>
						<span ng-really-message="¿Está seguro de que quiere cambiar el documento al estado 'abierto'?<br><br><small>Esta operación solo debería realizarse en el caso de haber cerrado el documento por error.</small>" ng-really-click="changeStatus(doc, 'abierto')">
							<a  popover="Pasar al estado abierto" popover-trigger="mouseenter" class="btn btn-default" ng-class="{disabled: doc.estado!='cerrado'}"><span class="glyphicon glyphicon glyphicon-file"></span> Abrir</a>
						</span>
						<span ng-really-message="¿Está seguro de que quiere cambiar el documento al estado 'cerrado'?" ng-really-click="changeStatus(doc, 'cerrado')">
							<a popover="Pasar al estado cerrado" popover-trigger="mouseenter" class="btn btn-default" ng-class="{disabled: doc.estado!='abierto'}"><span class="glyphicon glyphicon glyphicon-lock"></span> Cerrar</a>
						</span>
						<span ng-really-message="¿Está seguro de que quiere cambiar el documento al estado 'publicado'?" ng-really-click="changeStatus(doc, 'publicado')">
							<a popover="Pasar al estado publicado" popover-trigger="mouseenter" class="btn btn-default" ng-class="{disabled: doc.estado!='cerrado'}"><span class="glyphicon glyphicon glyphicon-globe"></span> Publicar</a>
						</div>
				  </td>
                  <td><ul class="list-inline"><li class="estado {{doc.estado}}" ng-click="filterState(doc.estado)">{{doc.estado}}</li></ul></td>
                  <td><a ng-click="viewDoc(doc.id_doc)" class="btn btn-small btn-info" >Ver</a></td>
                  <td><a popover={{showPopEditar(doc.estado)}} popover-trigger="mouseenter" ng-click="editDoc(doc.id_doc, doc.estado)" class="btn btn-small btn-primary" ng-class="{disabled : doc.estado != 'abierto'}">Editar</a></td>
                  <td><a popover={{showPopBorrar(doc.estado)}} popover-trigger="mouseenter" popover-placement="right" ng-click="deleteDoc(doc.id_doc, doc.estado)" class="btn btn-small btn-danger" ng-class="{disabled : doc.estado != 'abierto'}">Borrar</a></td>
              </tr>
          </tbody>
      </table>
    </div>
    <div class="row">
        <div class="col-md-3">
        <!--Sidebar content-->
        Filtro: <input size="10" ng-model="query"><span class="btn tag" ng-click="clearQuery()">x</span>
    </div>
</div>
<a ng-click="createNewDoc()" class="btn btn-success">Documento Nuevo</a>

